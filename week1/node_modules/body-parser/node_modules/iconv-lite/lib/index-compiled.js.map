{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\"\n\nvar bomHandling = require('./bom-handling'),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = 'ï¿½';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = new Buffer(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = (''+encoding).toLowerCase().replace(/[^0-9a-z]|:\\d{4}$/g, \"\");\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n\n// Load extensions in Node. All of them are omitted in Browserify build via 'browser' field in package.json.\nvar nodeVer = typeof process !== 'undefined' && process.versions && process.versions.node;\nif (nodeVer) {\n\n    // Load streaming support in Node v0.10+\n    var nodeVerArr = nodeVer.split(\".\").map(Number);\n    if (nodeVerArr[0] > 0 || nodeVerArr[1] >= 10) {\n        require(\"./streams\")(iconv);\n    }\n\n    // Load Node primitive extensions.\n    require(\"./extend-node\")(iconv);\n}\n\n"]}