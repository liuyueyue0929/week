{"version":3,"sources":["xhr-compiled.js"],"names":[],"mappings":"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","file":"xhr-compiled-compiled.js","sourcesContent":["define([\"../core\", \"../var/support\", \"../ajax\"], function (jQuery, support) {\n\n\t\"use strict\";\n\n\tjQuery.ajaxSettings.xhr = function () {\n\t\ttry {\n\t\t\treturn new window.XMLHttpRequest();\n\t\t} catch (e) {}\n\t};\n\n\tvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\t    xhrSupported = jQuery.ajaxSettings.xhr();\n\n\tsupport.cors = !!xhrSupported && \"withCredentials\" in xhrSupported;\n\tsupport.ajax = xhrSupported = !!xhrSupported;\n\n\tjQuery.ajaxTransport(function (options) {\n\t\tvar callback, errorCallback;\n\n\t\t// Cross domain only allowed if supported through XMLHttpRequest\n\t\tif (support.cors || xhrSupported && !options.crossDomain) {\n\t\t\treturn {\n\t\t\t\tsend: function (headers, complete) {\n\t\t\t\t\tvar i,\n\t\t\t\t\t    xhr = options.xhr();\n\n\t\t\t\t\txhr.open(options.type, options.url, options.async, options.username, options.password);\n\n\t\t\t\t\t// Apply custom fields if provided\n\t\t\t\t\tif (options.xhrFields) {\n\t\t\t\t\t\tfor (i in options.xhrFields) {\n\t\t\t\t\t\t\txhr[i] = options.xhrFields[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Override mime type if needed\n\t\t\t\t\tif (options.mimeType && xhr.overrideMimeType) {\n\t\t\t\t\t\txhr.overrideMimeType(options.mimeType);\n\t\t\t\t\t}\n\n\t\t\t\t\t// X-Requested-With header\n\t\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\t\tif (!options.crossDomain && !headers[\"X-Requested-With\"]) {\n\t\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set headers\n\t\t\t\t\tfor (i in headers) {\n\t\t\t\t\t\txhr.setRequestHeader(i, headers[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Callback\n\t\t\t\t\tcallback = function (type) {\n\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload = xhr.onerror = xhr.onabort = xhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\t\tif (type === \"abort\") {\n\t\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t\t} else if (type === \"error\") {\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\t\tif (typeof xhr.status !== \"number\") {\n\t\t\t\t\t\t\t\t\t\tcomplete(0, \"error\");\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status, xhr.statusText);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t(xhr.responseType || \"text\") !== \"text\" || typeof xhr.responseText !== \"string\" ? { binary: xhr.response } : { text: xhr.responseText }, xhr.getAllResponseHeaders());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\n\t\t\t\t\t// Listen to events\n\t\t\t\t\txhr.onload = callback();\n\t\t\t\t\terrorCallback = xhr.onerror = callback(\"error\");\n\n\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t\t// to handle uncaught aborts\n\t\t\t\t\tif (xhr.onabort !== undefined) {\n\t\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t\t} else {\n\t\t\t\t\t\txhr.onreadystatechange = function () {\n\n\t\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\t\tif (xhr.readyState === 4) {\n\n\t\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create the abort callback\n\t\t\t\t\tcallback = callback(\"abort\");\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\t\txhr.send(options.hasContent && options.data || null);\n\t\t\t\t\t} catch (e) {\n\n\t\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tabort: function () {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n});\n\n//# sourceMappingURL=xhr-compiled.js.map"]}