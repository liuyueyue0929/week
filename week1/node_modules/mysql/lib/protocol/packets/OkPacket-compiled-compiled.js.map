{"version":3,"sources":["OkPacket-compiled.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,QAAjB;AACA,SAAS,QAAT,CAAkB,OAAlB,EAA2B;AACzB,YAAU,WAAW,EAArB;;AAEA,OAAK,UAAL,GAAkB,SAAlB;AACA,OAAK,YAAL,GAAoB,SAApB;AACA,OAAK,QAAL,GAAgB,SAAhB;AACA,OAAK,YAAL,GAAoB,SAApB;AACA,OAAK,YAAL,GAAoB,SAApB;AACA,OAAK,OAAL,GAAe,SAAf;AACA,OAAK,UAAL,GAAkB,QAAQ,UAA1B;AACD;;AAED,SAAS,SAAT,CAAmB,KAAnB,GAA2B,UAAU,MAAV,EAAkB;AAC3C,OAAK,UAAL,GAAkB,OAAO,mBAAP,CAA2B,CAA3B,CAAlB;AACA,OAAK,YAAL,GAAoB,OAAO,sBAAP,EAApB;AACA,OAAK,QAAL,GAAgB,OAAO,sBAAP,EAAhB;AACA,MAAI,KAAK,UAAT,EAAqB;AACnB,SAAK,YAAL,GAAoB,OAAO,mBAAP,CAA2B,CAA3B,CAApB;AACA,SAAK,YAAL,GAAoB,OAAO,mBAAP,CAA2B,CAA3B,CAApB;AACD;AACD,OAAK,OAAL,GAAe,OAAO,2BAAP,EAAf;AACA,OAAK,WAAL,GAAmB,CAAnB;;AAEA,MAAI,IAAI,KAAK,OAAL,CAAa,KAAb,CAAmB,qBAAnB,CAAR;;AAEA,MAAI,MAAM,IAAV,EAAgB;AACd,SAAK,WAAL,GAAmB,SAAS,EAAE,CAAF,CAAT,EAAe,EAAf,CAAnB;AACD;AACF,CAhBD;;AAkBA,SAAS,SAAT,CAAmB,KAAnB,GAA2B,UAAU,MAAV,EAAkB;AAC3C,SAAO,mBAAP,CAA2B,CAA3B,EAA8B,IAA9B;AACA,SAAO,sBAAP,CAA8B,KAAK,YAAL,IAAqB,CAAnD;AACA,SAAO,sBAAP,CAA8B,KAAK,QAAL,IAAiB,CAA/C;AACA,MAAI,KAAK,UAAT,EAAqB;AACnB,WAAO,mBAAP,CAA2B,CAA3B,EAA8B,KAAK,YAAL,IAAqB,CAAnD;AACA,WAAO,mBAAP,CAA2B,CAA3B,EAA8B,KAAK,YAAL,IAAqB,CAAnD;AACD;AACD,SAAO,WAAP,CAAmB,KAAK,OAAxB;AACD,CATD;;AAWA","file":"OkPacket-compiled-compiled.js","sourcesContent":["module.exports = OkPacket;\nfunction OkPacket(options) {\n  options = options || {};\n\n  this.fieldCount = undefined;\n  this.affectedRows = undefined;\n  this.insertId = undefined;\n  this.serverStatus = undefined;\n  this.warningCount = undefined;\n  this.message = undefined;\n  this.protocol41 = options.protocol41;\n}\n\nOkPacket.prototype.parse = function (parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.affectedRows = parser.parseLengthCodedNumber();\n  this.insertId = parser.parseLengthCodedNumber();\n  if (this.protocol41) {\n    this.serverStatus = parser.parseUnsignedNumber(2);\n    this.warningCount = parser.parseUnsignedNumber(2);\n  }\n  this.message = parser.parsePacketTerminatedString();\n  this.changedRows = 0;\n\n  var m = this.message.match(/\\schanged:\\s*(\\d+)/i);\n\n  if (m !== null) {\n    this.changedRows = parseInt(m[1], 10);\n  }\n};\n\nOkPacket.prototype.write = function (writer) {\n  writer.writeUnsignedNumber(1, 0x00);\n  writer.writeLengthCodedNumber(this.affectedRows || 0);\n  writer.writeLengthCodedNumber(this.insertId || 0);\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(2, this.serverStatus || 0);\n    writer.writeUnsignedNumber(2, this.warningCount || 0);\n  }\n  writer.writeString(this.message);\n};\n\n//# sourceMappingURL=OkPacket-compiled.js.map"]}