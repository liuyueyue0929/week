{"version":3,"sources":["ChangeUser-compiled.js"],"names":[],"mappings":"AAAA,IAAI,WAAW,QAAQ,YAAR,CAAf;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,UAAU,QAAQ,YAAR,CAAd;AACA,IAAI,OAAO,QAAQ,SAAR,CAAX;;AAEA,OAAO,OAAP,GAAiB,UAAjB;AACA,KAAK,QAAL,CAAc,UAAd,EAA0B,QAA1B;AACA,SAAS,UAAT,CAAoB,OAApB,EAA6B,QAA7B,EAAuC;AACrC,WAAS,IAAT,CAAc,IAAd,EAAoB,OAApB,EAA6B,QAA7B;;AAEA,OAAK,KAAL,GAAa,QAAQ,IAArB;AACA,OAAK,SAAL,GAAiB,QAAQ,QAAzB;AACA,OAAK,SAAL,GAAiB,QAAQ,QAAzB;AACA,OAAK,cAAL,GAAsB,QAAQ,aAA9B;AACA,OAAK,cAAL,GAAsB,QAAQ,aAA9B;AACD;;AAED,WAAW,SAAX,CAAqB,KAArB,GAA6B,UAAU,6BAAV,EAAyC;AACpE,MAAI,eAAe,8BAA8B,YAA9B,EAAnB;AACA,iBAAe,KAAK,KAAL,CAAW,KAAK,SAAhB,EAA2B,YAA3B,CAAf;;AAEA,MAAI,SAAS,IAAI,QAAQ,mBAAZ,CAAgC;AAC3C,UAAM,KAAK,KADgC;AAE3C,kBAAc,YAF6B;AAG3C,cAAU,KAAK,SAH4B;AAI3C,mBAAe,KAAK;AAJuB,GAAhC,CAAb;;AAOA,OAAK,cAAL,CAAoB,IAApB,GAA2B,KAAK,KAAhC;AACA,OAAK,cAAL,CAAoB,QAApB,GAA+B,KAAK,SAApC;AACA,OAAK,cAAL,CAAoB,QAApB,GAA+B,KAAK,SAApC;AACA,OAAK,cAAL,CAAoB,aAApB,GAAoC,KAAK,cAAzC;;AAEA,OAAK,IAAL,CAAU,QAAV,EAAoB,MAApB;AACD,CAjBD;;AAmBA,WAAW,SAAX,CAAqB,aAArB,IAAsC,UAAU,MAAV,EAAkB;AACtD,MAAI,MAAM,KAAK,cAAL,CAAoB,MAApB,CAAV;AACA,MAAI,KAAJ,GAAY,IAAZ;AACA,OAAK,GAAL,CAAS,GAAT;AACD,CAJD;;AAMA","file":"ChangeUser-compiled-compiled.js","sourcesContent":["var Sequence = require('./Sequence');\nvar Util = require('util');\nvar Packets = require('../packets');\nvar Auth = require('../Auth');\n\nmodule.exports = ChangeUser;\nUtil.inherits(ChangeUser, Sequence);\nfunction ChangeUser(options, callback) {\n  Sequence.call(this, options, callback);\n\n  this._user = options.user;\n  this._password = options.password;\n  this._database = options.database;\n  this._charsetNumber = options.charsetNumber;\n  this._currentConfig = options.currentConfig;\n}\n\nChangeUser.prototype.start = function (handshakeInitializationPacket) {\n  var scrambleBuff = handshakeInitializationPacket.scrambleBuff();\n  scrambleBuff = Auth.token(this._password, scrambleBuff);\n\n  var packet = new Packets.ComChangeUserPacket({\n    user: this._user,\n    scrambleBuff: scrambleBuff,\n    database: this._database,\n    charsetNumber: this._charsetNumber\n  });\n\n  this._currentConfig.user = this._user;\n  this._currentConfig.password = this._password;\n  this._currentConfig.database = this._database;\n  this._currentConfig.charsetNumber = this._charsetNumber;\n\n  this.emit('packet', packet);\n};\n\nChangeUser.prototype['ErrorPacket'] = function (packet) {\n  var err = this._packetToError(packet);\n  err.fatal = true;\n  this.end(err);\n};\n\n//# sourceMappingURL=ChangeUser-compiled.js.map"]}